import { LightningElement, track, wire } from 'lwc';
import { getRecord, getFieldValue } from 'lightning/uiRecordApi';
import USER_ID from '@salesforce/user/Id';
import NAME_FIELD from '@salesforce/schema/User.Name';

export default class CreateLeadForm extends LightningElement {
    @track senderName;

    @wire (getRecord,{recordID: USER_ID, fields:[NAME_FIELD]})
    record;
    get senderName(){
        return this.record.data ? getFieldValue(this.record.data, NAME_FIELD) : 'Unknown User';
    }

    handleSubmit(event){
        event.preventDefault();
        const fields=event.detail.fields;
        this.template.querySelector('lightning-record-edit-form').submit(fields);
    }
     handleCancel(){
        const inputFields = this.template.querySelectorAll('lightning-input-field');
        if(inputFields){
            inputFields.forEach(field => {
                field.reset();
            });
        }
    }
}
